<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />

    

    

    <title>XML | 祁彦凯</title>
    <meta name="author" content="祁彦凯" />
    <meta name="version" content="1.0.0" />
    <meta name="keywords" content="" />
    <meta name="description" content="XML
xml是什么
 xml：（Extensible Markup Language）可扩展标记语言。 由w3c组织提供，2000年开发出1.0版本 xml是一种数据存储格式，本质上就是一段字符串

xml是如何保存数据的
 场景：保存中国的省份和城市信息 在XML中, 允许用户自己定义标签, 标签分为开始标签和结束标签, 开始标签和结束标签之间又可以嵌套其他的标签. 正是利用标签来保存数据, 利用标签之间的嵌套关系来保存数据之间的层级关系.




xml的应用场景

传输数据  由于xml" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
    <meta name="baidu-site-verification" content="F0CXvmUgA9" />

    
    

    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

    <div class="app">
        <header class="header clearfix">
    <div id="nav" class="nav">
    <button id="open-panel" class="open-panel"><i class="icon-library"></i></button>

    <nav class="nav-inner">

        
        
        <li class="nav-item">
            <a class="nav-link" href="/">首页</a>
        </li>
        
        
        
        <li class="nav-item">
            <a class="nav-link" href="/categories/前端">前端</a>
        </li>
        
        
        
        <li class="nav-item">
            <a class="nav-link" href="/categories/后端">后端</a>
        </li>
        
        
        
        <li class="nav-item nav-item-tag">
            <a id="nav-tag" class="nav-link" href="#">标签</a>
            <div id="nav-tags" class="nav-tag-wrap">
                <i class="nav-tag-arrow"></i>
                
  <div class="widget-wrap">
    <h3 class="widget-title">
        <i class="icon-tag vm"></i>
        <span class="vm">标签</span>
    </h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaWeb/">JavaWeb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XML/">XML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面试/">面试</a></li></ul>
    </div>
  </div>


            </div>
        </li>
        
        
        
        <li class="nav-item">
            <a class="nav-link" href="/archives">归档</a>
        </li>
        
        
        

    </nav>
</div>

    <aside id="aside" class="aside">
    <div id="aside-mask" class="aside-mask"></div>
    <div id="aside-inner" class="aside-inner">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"><i class="icon-search-stroke"></i></button><input type="hidden" name="sitesearch" value="https://qiyankai.github.io"></form>

        
        
        
        

        
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#XML"><span class="toc-number">1.</span> <span class="toc-text">XML</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#xml语法"><span class="toc-number">2.</span> <span class="toc-text">xml语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#案例：操作元素"><span class="toc-number">3.</span> <span class="toc-text">案例：操作元素</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#案例一：查询第一本书的书名，并输出到控制台"><span class="toc-number">3.0.1.</span> <span class="toc-text">案例一：查询第一本书的书名，并输出到控制台</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#案例二：查询第二本书的售价，并输出到控制台"><span class="toc-number">3.0.2.</span> <span class="toc-text">案例二：查询第二本书的售价，并输出到控制台</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#案例三：给第一本书添加一个特价节点（2种方式）"><span class="toc-number">3.0.3.</span> <span class="toc-text">案例三：给第一本书添加一个特价节点（2种方式）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#案例四：给第二本书在作者节点前插入一个特价节点"><span class="toc-number">3.0.4.</span> <span class="toc-text">案例四：给第二本书在作者节点前插入一个特价节点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#案例五：删除第二本书的特价节点（2种方式）"><span class="toc-number">3.0.5.</span> <span class="toc-text">案例五：删除第二本书的特价节点（2种方式）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#案例六：更新第一本书的特价节点的内容为19-8元"><span class="toc-number">3.0.6.</span> <span class="toc-text">案例六：更新第一本书的特价节点的内容为19.8元</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#案例七：给第一本书添加一个属性，如：出版社-”清华大学出版社”-2种方式"><span class="toc-number">3.0.7.</span> <span class="toc-text">案例七：给第一本书添加一个属性，如：出版社=”清华大学出版社”(2种方式)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#案例八：在控制台上打印输出第一本书的出版社属性的值-并更新属性的值为“人民出版社”-3种方式"><span class="toc-number">3.0.8.</span> <span class="toc-text">案例八：在控制台上打印输出第一本书的出版社属性的值,并更新属性的值为“人民出版社”(3种方式)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#案例九：删除第一本书的出版社属性-2种方式"><span class="toc-number">3.0.9.</span> <span class="toc-text">案例九：删除第一本书的出版社属性(2种方式)</span></a></li></ol></li></ol></li></ol>
        
    </div>
</aside>

</header>

        <div id="content" class="content"><article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            XML
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="/2017/05/20/XML/">
    
    <i class="icon-calendar"></i>
    
    <time datetime="2017-05-20T03:53:46.000Z" itemprop="datePublished">2017-05-20</time>
</a>

            
<div class="article-tag-list">
    <i class="icon-tag"></i>
    <a class="article-tag-link" href="/tags/JavaWeb/">JavaWeb</a>, <a class="article-tag-link" href="/tags/XML/">XML</a>
</div>


        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <h3 id="XML"><a href="#XML" class="headerlink" title="XML"></a>XML</h3><ol>
<li><p>xml是什么</p>
<p> xml：（Extensible Markup Language）可扩展标记语言。<br> 由w3c组织提供，2000年开发出1.0版本<br> xml是一种数据存储格式，本质上就是一段字符串</p>
</li>
<li><p>xml是如何保存数据的</p>
<p> 场景：保存中国的省份和城市信息<br> 在XML中, 允许用户自己定义标签, 标签分为开始标签和结束标签, 开始标签和结束标签之间又可以嵌套其他的标签.<br> 正是利用标签来保存数据, 利用标签之间的嵌套关系来保存数据之间的层级关系.</p>
</li>
</ol>
<a id="more"></a>
<ol>
<li><p>xml的应用场景</p>
<ul>
<li>传输数据<br>  由于xml本质上是一段字符串, 具有跨平台的特性, 因此可以在不同系统之间进行数据交换。<br>  比如天气数据，xml接口：<a href="http://flash.weather.com.cn/wmaps/xml/china.xml" target="_blank" rel="noopener">http://flash.weather.com.cn/wmaps/xml/china.xml</a></li>
<li>用作配置文件<br>  由于xml可以保存有结构的数据, 因此xml常被用来用作应用程序的配置文件。</li>
</ul>
</li>
<li><p>xml文件、xml校验（了解）</p>
<p> 我们可以使用浏览器对XML进行校验。</p>
</li>
</ol>
<h3 id="xml语法"><a href="#xml语法" class="headerlink" title="xml语法"></a>xml语法</h3><ol>
<li><p>文档声明<br> 可以用来声明xml文档的基本属性信息, 解析器会根据文档声明来决定如何解析这个xml文档.<br> <strong>注意:</strong></p>
<pre><code>* 一个xml文档有且仅有一个文档声明.(规范要求)
* 文档声明只能放在xml文档的第一行, 并且前面不能有任何内容
* 如果一个xml文档没有文档声明, 该文档是一个格式不良好的xml文档.
</code></pre><p> <code>&lt;?xml version=”1.0” encoding=”utf-8”?&gt;</code>  </p>
<p> 其中version用来指定xml文档所遵循的xml版本, 目前就是1.0， encoding属性用来通知解析器使用什么编码来解析当前xml文档. 注意, encoding属性指定的编码和xml文档保存时的编码必须得一致!!!  </p>
</li>
<li><p>元素<br> 一个标签就是一个元素, 如: &lt;中国&gt;&lt;/中国&gt;<br> <strong>标签体</strong>：标签分为开始标签和结束标签, 开始标签和结束标签之间的文本。</p>
<pre><code>如：&lt;a&gt;xxxxx&lt;/a&gt;
</code></pre><p> <strong>自闭标签</strong>：如果一个元素不包含标签体也不包含其他元素，那么可以将开始标签和结束标签合并<br> 如：<a></a> —&gt; <a><br> <strong>根标签</strong>：一个xml文档有且仅有一个根标签</a></p>
<p> 标签可以包含子标签，但一定要合理的嵌套, 不能出现交叉嵌套.<br> 比如:</p>
<pre><code>&lt;a&gt;welcome to &lt;b&gt;www.tarena.com.cn&lt;/a&gt;&lt;/b&gt;
&lt;a&gt;welcome to www.tarena.com.cn&lt;/b&gt;&lt;/a&gt;
&lt;a&gt;welcome to www.tarena.com.cn&lt;b/&gt;&lt;/a&gt;
&lt;a&gt;welcome to www.tarena&lt;b/&gt;.com.cn&lt;/a&gt;
</code></pre></li>
<li><p>XML元素的命名规范:</p>
<ul>
<li>区分大小写, 如: <a>和<a>是两个不同的标签</a></a></li>
<li>不能以数字或标点符号开头, 如: <123a></123a></li>
<li>不能以xml（或Xml、或XML）开头</li>
<li>不能包含空格</li>
<li>不能包含冒号</li>
</ul>
</li>
<li><p>属性<br>一个标签可以有多个属性，多个属性之间用空格隔开，属性值一定要用双引号（”）或单引号（’）引起来，例如：<br><code>&lt;中国 pyname=”zhongguo”  gdp=”70万亿”&gt;</code><br>属性和元素具有相同的命名规范(参考上面)</p>
</li>
<li><p>注释<br>格式: <!-- 一段注释 --><br>注意:<br>注释不能放在文档声明的前面<br>注释不能交叉嵌套, 如:  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- &lt;!-- 注释内容 注释内容--&gt; 注释内容 --&gt; 这是不合理的注释</span><br></pre></td></tr></table></figure>
</li>
<li><p>转义字符<br>用其他符号来代替特殊符号</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;		&amp;lt;</span><br><span class="line">&gt;		&amp;gt;</span><br><span class="line">“		&amp;quot;</span><br><span class="line">‘		&amp;apos;</span><br><span class="line">&amp;		&amp;amp;</span><br></pre></td></tr></table></figure>
</li>
<li><p>xml约束<br> 在xml技术里，可以编写一个文档来约束一个xml文档的写法，这称之为XML约束.<br> 分为两种：DTD和Schema    W3C组织提供</p>
</li>
<li><p>xml解析<br> xml两种解析方式：DOM解析和SAX解析（参见DOM解析图和SAX解析图）</p>
<p> 解析开发包：jaxp(sun)  jdom  dom4j  </p>
</li>
</ol>
<h3 id="案例：操作元素"><a href="#案例：操作元素" class="headerlink" title="案例：操作元素"></a>案例：操作元素</h3><h5 id="案例一：查询第一本书的书名，并输出到控制台"><a href="#案例一：查询第一本书的书名，并输出到控制台" class="headerlink" title="案例一：查询第一本书的书名，并输出到控制台"></a>案例一：查询第一本书的书名，并输出到控制台</h5><ol>
<li><p>创建xml文档：在myEclipse中创建day01项目，在项目中创建book.xml，将dom4j解析用例中的内容拷贝到book.xml中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span><br><span class="line">&lt;书架&gt;	</span><br><span class="line">	&lt;书&gt;		</span><br><span class="line">		&lt;书名&gt;数据结构&lt;/书名&gt;		</span><br><span class="line">		&lt;作者&gt;严蔚敏&lt;/作者&gt;		</span><br><span class="line">		&lt;售价&gt;29.00元&lt;/售价&gt;	</span><br><span class="line">	&lt;/书&gt;	</span><br><span class="line">	&lt;书&gt;		</span><br><span class="line">		&lt;书名&gt;高等数学&lt;/书名&gt;		</span><br><span class="line">		&lt;作者&gt;同济大学数学系&lt;/作者&gt;		</span><br><span class="line">		&lt;售价&gt;55.00元&lt;/售价&gt;</span><br><span class="line">	&lt;/书&gt;</span><br><span class="line">&lt;/书架&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>导包：在项目中创建lib目录，将javaweb开发软件中的dom4j-1.6.1.jar复制到lib目录下，并build path。</p>
</li>
<li><p>创建demo1并加入如下代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">package cn.tedu;</span><br><span class="line">import org.dom4j.Document;</span><br><span class="line">import org.dom4j.DocumentException;</span><br><span class="line">import org.dom4j.Element;</span><br><span class="line">import org.dom4j.io.SAXReader;</span><br><span class="line">public class Demo1 &#123;</span><br><span class="line">	public static void main(String[] args) throws DocumentException &#123;</span><br><span class="line">		//1.创建解析器</span><br><span class="line">		SAXReader reader = new SAXReader();</span><br><span class="line">		//2.利用解析器读取xml文件</span><br><span class="line">		Document dom = reader.read(&quot;book.xml&quot;);</span><br><span class="line">		//3.获取根节点</span><br><span class="line">		Element root = dom.getRootElement();</span><br><span class="line">		//4.获取第一本书节点</span><br><span class="line">		Element bookEle = root.element(&quot;书&quot;);</span><br><span class="line">		//5.获取第一个书名节点</span><br><span class="line">		Element bookNameEle = bookEle.element(&quot;书名&quot;);</span><br><span class="line">		//6.获取书名中的内容</span><br><span class="line">		String text = bookNameEle.getText();</span><br><span class="line">		System.out.println(&quot;第一本书的书名为：&quot;+text);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="案例二：查询第二本书的售价，并输出到控制台"><a href="#案例二：查询第二本书的售价，并输出到控制台" class="headerlink" title="案例二：查询第二本书的售价，并输出到控制台"></a>案例二：查询第二本书的售价，并输出到控制台</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">package cn.tedu;</span><br><span class="line">import java.util.List;</span><br><span class="line">import org.dom4j.Document;</span><br><span class="line">import org.dom4j.DocumentException;</span><br><span class="line">import org.dom4j.Element;</span><br><span class="line">import org.dom4j.io.SAXReader;</span><br><span class="line">/**</span><br><span class="line"> * dom4j操作元素节点</span><br><span class="line">*/</span><br><span class="line">public class Demo2 &#123;</span><br><span class="line">	public static void main(String[] args) throws DocumentException &#123;</span><br><span class="line">		//2.查询第二本书的售价，并输出到控制台</span><br><span class="line">		//1.创建解析器</span><br><span class="line">		SAXReader reader = new SAXReader();</span><br><span class="line">		//2.利用解析器读取xml文件</span><br><span class="line">		Document dom = reader.read(&quot;book.xml&quot;);</span><br><span class="line">		//3.获取根节点</span><br><span class="line">		Element root = dom.getRootElement();</span><br><span class="line">		//4.获取root下所有节点集合</span><br><span class="line">		List&lt;Element&gt; list = root.elements();</span><br><span class="line">		//5.获取第二本书节点</span><br><span class="line">		Element bookEle2 = list.get(1);</span><br><span class="line">		//6.获取第二本书的售价节点</span><br><span class="line">		Element price = bookEle2.element(&quot;售价&quot;);</span><br><span class="line">		//7.获取售价</span><br><span class="line">		String text = price.getText();</span><br><span class="line">		System.out.println(&quot;第二本书的售价为：&quot;+text);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">为了方便开发，将案例二中的代码抽取到一个方法中，可以通过快捷键alt+shift+m快速抽取。</span><br><span class="line">	发现获取document部分大量重复，抽取到一个工具类中，代码如下</span><br><span class="line">/**</span><br><span class="line">	 * 解析xml文件，获取document对象</span><br><span class="line">	 * @param xmlPath</span><br><span class="line">	 * @return</span><br><span class="line">	 */</span><br><span class="line">	public static Document getDoc(String xmlPath)&#123;</span><br><span class="line">		try &#123;</span><br><span class="line">			//1.创建解析器</span><br><span class="line">			SAXReader reader = new SAXReader();</span><br><span class="line">			//2.利用解析器读取xml文件</span><br><span class="line">			Document dom = reader.read(xmlPath);</span><br><span class="line">			return dom;</span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			throw new RuntimeException(e); </span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
<h5 id="案例三：给第一本书添加一个特价节点（2种方式）"><a href="#案例三：给第一本书添加一个特价节点（2种方式）" class="headerlink" title="案例三：给第一本书添加一个特价节点（2种方式）"></a>案例三：给第一本书添加一个特价节点（2种方式）</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">//创建解析器并获取根节点</span><br><span class="line">		Document doc = XMLUtils.getDoc(&quot;book.xml&quot;);</span><br><span class="line">		Element root = doc.getRootElement();</span><br><span class="line">		//获取第一本书</span><br><span class="line">		Element bookEle = root.element(&quot;书&quot;);</span><br><span class="line">		/*//方式一</span><br><span class="line">		//创建一个游离的节点</span><br><span class="line">		Element priceEle2 = DocumentHelper.createElement(&quot;特价&quot;);</span><br><span class="line">		priceEle2.setText(&quot;9.9元&quot;);</span><br><span class="line">		//将游离节点挂载到第一本书上</span><br><span class="line">		bookEle.add(priceEle2);*/</span><br><span class="line">		</span><br><span class="line">		//方式二</span><br><span class="line">		//在第一本书上添加特价子节点</span><br><span class="line">		Element priceEle2 = bookEle.addElement(&quot;特价&quot;);</span><br><span class="line">		priceEle2.setText(&quot;8.8元&quot;);</span><br><span class="line">		</span><br><span class="line">		//将更新的document写入到xml中,并加入格式输出器</span><br><span class="line">		XMLWriter writer = new XMLWriter(</span><br><span class="line">				new FileOutputStream(new File(&quot;book.xml&quot;)),OutputFormat.createPrettyPrint());</span><br><span class="line">		writer.write(doc);</span><br><span class="line">		writer.close();</span><br><span class="line"></span><br><span class="line">再次发现，输出到xml的代码也会大量重复，再次抽取到工具类中</span><br><span class="line">/**</span><br><span class="line">	 * 将更新的document写入到xml中</span><br><span class="line">	 * @param doc</span><br><span class="line">	 * @param xmlPath</span><br><span class="line">	 */</span><br><span class="line">	public static void write2Xml(Document doc, String xmlPath)&#123;</span><br><span class="line">		try &#123;</span><br><span class="line">			//将更新的document写入到xml中,并加入格式输出器</span><br><span class="line">			XMLWriter writer = new XMLWriter(</span><br><span class="line">					new FileOutputStream(new File(xmlPath)),OutputFormat.createPrettyPrint());</span><br><span class="line">			writer.write(doc);</span><br><span class="line">			writer.close();</span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			throw new RuntimeException(e);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h5 id="案例四：给第二本书在作者节点前插入一个特价节点"><a href="#案例四：给第二本书在作者节点前插入一个特价节点" class="headerlink" title="案例四：给第二本书在作者节点前插入一个特价节点"></a>案例四：给第二本书在作者节点前插入一个特价节点</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//创建解析器并获取根节点</span><br><span class="line">		Document doc = XMLUtils.getDoc(&quot;book.xml&quot;);</span><br><span class="line">		Element root = doc.getRootElement();</span><br><span class="line">		//获取root下所有节点集合</span><br><span class="line">		List&lt;Element&gt; list = root.elements();</span><br><span class="line">		//获取第二个元素</span><br><span class="line">		Element bookEle2 = list.get(1);</span><br><span class="line">		//创建一个游离节点</span><br><span class="line">		Element priceEle2 = DocumentHelper.createElement(&quot;特价&quot;);</span><br><span class="line">		priceEle2.setText(&quot;6.6元&quot;);</span><br><span class="line">		//将游离节点插入到指定位置</span><br><span class="line">		List list2 = bookEle2.elements();</span><br><span class="line">		list2.add(1, priceEle2);</span><br><span class="line">		//将更新的document写入到xml中</span><br><span class="line">		XMLUtils.write2Xml(doc, &quot;book.xml&quot;);</span><br><span class="line">		System.out.println(&quot;执行完毕&quot;);</span><br></pre></td></tr></table></figure>
<h5 id="案例五：删除第二本书的特价节点（2种方式）"><a href="#案例五：删除第二本书的特价节点（2种方式）" class="headerlink" title="案例五：删除第二本书的特价节点（2种方式）"></a>案例五：删除第二本书的特价节点（2种方式）</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//创建解析器并获取根节点</span><br><span class="line">		Document doc = XMLUtils.getRootElement(&quot;book.xml&quot;);</span><br><span class="line">		Element root = doc.getDoc();</span><br><span class="line">		//获取root下所有节点集合</span><br><span class="line">		List&lt;Element&gt; list = root.elements();</span><br><span class="line">		//获取第二个本书</span><br><span class="line">		Element bookEle2 = list.get(1);</span><br><span class="line">		/*//方法一</span><br><span class="line">		//获取特价节点</span><br><span class="line">		Element priceEle2 = bookEle2.element(&quot;特价&quot;);</span><br><span class="line">		//将特价节点从第二本书中删除</span><br><span class="line">		bookEle2.remove(priceEle2);*/</span><br><span class="line">	</span><br><span class="line">		//方法二</span><br><span class="line">		//获取第二本书所有元素</span><br><span class="line">		List list2 = bookEle2.elements();</span><br><span class="line">		list2.remove(1);</span><br><span class="line"></span><br><span class="line">		//将更新的document写入到xml中</span><br><span class="line">		XMLUtils.write2Xml(doc, &quot;book.xml&quot;);</span><br></pre></td></tr></table></figure>
<h5 id="案例六：更新第一本书的特价节点的内容为19-8元"><a href="#案例六：更新第一本书的特价节点的内容为19-8元" class="headerlink" title="案例六：更新第一本书的特价节点的内容为19.8元"></a>案例六：更新第一本书的特价节点的内容为19.8元</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//创建解析器并获取根节点</span><br><span class="line">	Document doc = XMLUtils.getDoc(&quot;book.xml&quot;);</span><br><span class="line">	doc.getRootElement().element(&quot;书&quot;).element(&quot;特价&quot;).setText(&quot;19.8元&quot;);</span><br><span class="line"></span><br><span class="line">	//将更新的document写入到xml中</span><br><span class="line">	XMLUtils.write2Xml(doc, &quot;book.xml&quot;);</span><br></pre></td></tr></table></figure>
<h5 id="案例七：给第一本书添加一个属性，如：出版社-”清华大学出版社”-2种方式"><a href="#案例七：给第一本书添加一个属性，如：出版社-”清华大学出版社”-2种方式" class="headerlink" title="案例七：给第一本书添加一个属性，如：出版社=”清华大学出版社”(2种方式)"></a>案例七：给第一本书添加一个属性，如：出版社=”清华大学出版社”(2种方式)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//创建解析器，读取xml，获取根目录</span><br><span class="line">		Document doc = XMLUtils.getDoc(&quot;book.xml&quot;);</span><br><span class="line">		Element root = doc.getRootElement();</span><br><span class="line">		//获取第一本书</span><br><span class="line">		Element bookEle = root.element(&quot;书&quot;);</span><br><span class="line">		</span><br><span class="line">		/*//方法一</span><br><span class="line">		//创建一个游离的属性</span><br><span class="line">		Attribute attr = DocumentHelper.createAttribute(bookEle, &quot;出版社&quot;, &quot;清华大学出版社&quot;);</span><br><span class="line">		//将游离的属性挂载到第一本书上</span><br><span class="line">		bookEle.add(attr);*/</span><br><span class="line">		</span><br><span class="line">		//方法二</span><br><span class="line">		//在第一本书上直接添加属性</span><br><span class="line">		bookEle.addAttribute(&quot;版次&quot;,&quot;1.0&quot;);</span><br><span class="line">		</span><br><span class="line">		//将更新的document写入到xml文档中</span><br><span class="line">		XMLUtils.write2Xml(doc, &quot;book.xml&quot;);</span><br></pre></td></tr></table></figure>
<h5 id="案例八：在控制台上打印输出第一本书的出版社属性的值-并更新属性的值为“人民出版社”-3种方式"><a href="#案例八：在控制台上打印输出第一本书的出版社属性的值-并更新属性的值为“人民出版社”-3种方式" class="headerlink" title="案例八：在控制台上打印输出第一本书的出版社属性的值,并更新属性的值为“人民出版社”(3种方式)"></a>案例八：在控制台上打印输出第一本书的出版社属性的值,并更新属性的值为“人民出版社”(3种方式)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//创建解析器，读取xml，获取根目录</span><br><span class="line">		Document doc = XMLUtils.getDoc(&quot;book.xml&quot;);</span><br><span class="line">		Element root = doc.getRootElement();</span><br><span class="line">		//获取第一本书</span><br><span class="line">		Element bookEle = root.element(&quot;书&quot;);</span><br><span class="line">		</span><br><span class="line">		//方式一</span><br><span class="line">		//Attribute attr = bookEle.attribute(0);</span><br><span class="line">		</span><br><span class="line">		//方式二</span><br><span class="line">		Attribute attr = bookEle.attribute(&quot;出版社&quot;);</span><br><span class="line">		attr.setValue(&quot;人民出版社&quot;);</span><br><span class="line">		System.out.println(attr.getName()+&quot;:&quot;+attr.getValue());</span><br><span class="line">		</span><br><span class="line">		//方式三</span><br><span class="line">		//String value = bookEle.attributeValue(&quot;出版社&quot;);</span><br><span class="line">		//System.out.println(value);</span><br><span class="line">		</span><br><span class="line">		//将更新的document写入到xml文档中</span><br><span class="line">		XMLUtils.write2Xml(doc, &quot;book.xml&quot;);</span><br></pre></td></tr></table></figure>
<h5 id="案例九：删除第一本书的出版社属性-2种方式"><a href="#案例九：删除第一本书的出版社属性-2种方式" class="headerlink" title="案例九：删除第一本书的出版社属性(2种方式)"></a>案例九：删除第一本书的出版社属性(2种方式)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//创建解析器，读取xml，获取根目录</span><br><span class="line">		Document doc = XMLUtils.getDoc(&quot;book.xml&quot;);</span><br><span class="line">		Element root = doc.getRootElement();</span><br><span class="line">		//获取第一本书</span><br><span class="line">		Element bookEle = root.element(&quot;书&quot;);</span><br><span class="line">		</span><br><span class="line">		/*//方式一</span><br><span class="line">		//获取第一本书的属性</span><br><span class="line">		Attribute attr = bookEle.attribute(&quot;出版社&quot;);</span><br><span class="line">		//将属性从第一本书中删除</span><br><span class="line">		bookEle.remove(attr);*/</span><br><span class="line">		</span><br><span class="line">		//方式二</span><br><span class="line">		//如果给一个正常值，为添加，如果给一个null，则为删除</span><br><span class="line">		bookEle.addAttribute(&quot;出版社&quot;,null);</span><br><span class="line">		</span><br><span class="line">		//将更新的document写入到xml文档中</span><br><span class="line">		XMLUtils.write2Xml(doc, &quot;book.xml&quot;);</span><br></pre></td></tr></table></figure>
        
    </section>
</article>



<div class="comments">
    <div id="disqus_thread">
        <p class="comment-tips">国内查看评论需要代理~</p>
    </div>
    <script>
    window.disqus_config = function () {
        this.language = 'zh';
        this.page.url = 'https://qiyankai.github.io/2017/05/20/XML/';
        this.page.title = 'XML';
        this.page.identifier = '2017/05/20/XML/';
    };
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://qiyankai.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

</div>
        <footer class="footer">
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, Theme by <a href="https://github.com/sanonz/hexo-theme-concise" target="_blank">Concise</a>
</footer>

<script type="text/javascript" src="//s13.cnzz.com/z_stat.php?id=1272981253&amp;web_id=1272981253"></script>


    </div>

    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/1.9.0/jquery.min.js"></script>
    
    <script type="text/javascript" src="/js/scrollspy.min.js"></script>
    
    <script type="text/javascript">
        $(function() {
            var nodes = {
                nav: $('#nav'),
                aside: $('#aside'),
                navTags: $('#nav-tags')
            };

            $('#open-panel, #aside-mask').on('click', function() {
                nodes.aside.toggleClass('panel-show');
            });
            $('#nav-tag').on('click', function(event) {
                event.preventDefault();console.log(nodes.navTags.attr('class'))
                nodes.navTags.toggleClass('tag-show');console.log(nodes.navTags.attr('class'))
            })/*.hover(function() {
                nodes.navTags.addClass('tag-show');
            }, function() {
                nodes.navTags.removeClass('tag-show');
            });*/

            
            $(document.body).scrollspy({target: '#aside-inner'});
            
        });
    </script>

</body>
</html>
